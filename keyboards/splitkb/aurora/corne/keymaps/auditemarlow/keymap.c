#include QMK_KEYBOARD_H

enum layers {
	L_BASE_QWERTY = 0,
	L_BASE_COLEMAKDH,
	L_MEDIA,
	L_NAV,
	L_MOUSE,
	L_BUTTON,
	L_SYM,
	L_NUM,
	L_FUN,
    L_GAME
};

enum tap_dances {
    U_TD_BOOT
};

// Layer keys
#define LT_GAME TG(L_GAME)

#define LT_MDIA LT(L_MEDIA, KC_ESC)
#define LT_ESC LT(L_MEDIA, KC_ESC)
#define LT_NAV LT(L_NAV, KC_SPC)
#define LT_SPC LT(L_NAV, KC_SPC)
#define LT_MOUS LT(L_MOUSE, KC_TAB)
#define LT_TAB LT(L_MOUSE, KC_TAB)
#define LT_SYM LT(L_SYM, KC_ENT)
#define LT_ENT LT(L_SYM, KC_ENT)
#define LT_NUM LT(L_NUM, KC_BSPC)
#define LT_BSPC LT(L_NUM, KC_BSPC)
#define LT_FUN LT(L_FUN, KC_DEL)
#define LT_DEL LT(L_FUN, KC_DEL)
#define LT_Z LT(L_BUTTON, KC_Z)
#define LT_SLSH LT(L_BUTTON, KC_SLSH)

// Tap dances
#define TD_BOOT TD(U_TD_BOOT)

// Home-row mod keys
#define LA_R MT(MOD_LALT, KC_R)
#define LA_S MT(MOD_LALT, KC_S)
#define LC_F MT(MOD_LCTL, KC_F)
#define LC_T MT(MOD_LCTL, KC_T)
#define LG_A MT(MOD_LGUI, KC_A)
#define LS_D MT(MOD_LSFT, KC_D)
#define LS_S MT(MOD_LSFT, KC_S)
#define RA_I MT(MOD_RALT, KC_I)
#define RA_L MT(MOD_RALT, KC_L)
#define RC_J MT(MOD_RCTL, KC_J)
#define RC_N MT(MOD_RCTL, KC_N)
#define RG_O MT(MOD_RGUI, KC_O)
#define RG_SCLN MT(MOD_RGUI, KC_SCLN)
#define RG_QUOT MT(MOD_RGUI, KC_QUOT)
#define RS_E MT(MOD_RSFT, KC_E)
#define RS_K MT(MOD_RSFT, KC_K)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

    /* Base QWERTY
     *
     *.-----------------------------------------------------,                          ,-----------------------------------------------------.
     *|        | Q      | W      | E      | R      | T      |                          | Y      | U      | I      | O      | P      |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | A      | S      | D      | F      | G      |                          | H      | J      | K      | L      | '      |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | Z      | X      | C      | V      | B      |                          | N      | M      | ,      | .      | /      |        |
     *'-----------------------------------+--------+--------+--------,        ,--------+--------+--------+-----------------------------------'
     *                                    | Escape | Space  | Tab    |        | Enter  | Bspc   | Del    |
     *                                    '--------------------------'        '--------------------------'
     */
    [L_BASE_QWERTY] = LAYOUT_split_3x6_3(
        _______, KC_Q,    KC_W,    KC_E,    KC_R,    KC_T,                               KC_Y,    KC_U,    KC_I,    KC_O,    KC_P,    _______,
        _______, LG_A,    LA_S,    LS_D,    LC_F,    KC_G,                               KC_H,    RC_J,    RS_K,    RA_L,    RG_QUOT, _______,
        _______, LT_Z,    KC_X,    KC_C,    KC_V,    KC_B,                               KC_N,    KC_M,    KC_COMM, KC_DOT,  LT_SLSH, _______,
                                            LT_MDIA, LT_NAV,  LT_MOUS,          LT_SYM,  LT_NUM,  LT_FUN
    ),

    /* Nav
     *
     *.-----------------------------------------------------,                          ,-----------------------------------------------------.
     *|        |        |        |        |        |        |                          | Redo   | Paste  | Copy   | Cut    | Undo   |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | GUI    | Alt    | Shift  | Ctrl   |        |                          | Left   | Down   | Up     | Right  | Caps   |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        |        |        |        |        |        |                          | Home   | PgDwn  | PgUp   | End    | Insert |        |
     *'-----------------------------------+--------+--------+--------,        ,--------+--------+--------+-----------------------------------'
     *                                    |        |        |        |        | Enter  | Bspc   | Del    |
     *                                    '--------------------------'        '--------------------------'
     */
    [L_NAV] = LAYOUT_split_3x6_3(
        _______, TD_BOOT, _______, _______, _______, _______,                            C(KC_Y), C(KC_V), C(KC_C), C(KC_X), C(KC_Z), _______,
        _______, KC_LGUI, KC_LALT, KC_LSFT, KC_LCTL, _______,                            KC_LEFT, KC_DOWN, KC_UP,   KC_RGHT, CW_TOGG, _______,
        _______, _______, _______, _______, _______, _______,                            KC_HOME, KC_PGDN, KC_PGUP, KC_END,  KC_INS,  _______,
                                            _______, _______, _______,          KC_ENT,  KC_BSPC, KC_DEL
    ),

    /* Mouse
     *
     *.-----------------------------------------------------,                          ,-----------------------------------------------------.
     *|        |        |        |        |        |        |                          | Redo   | Paste  | Copy   | Cut    | Undo   |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | GUI    | Alt    | Shift  | Ctrl   |        |                          | MLeft  | MDown  | MUp    | MRight |        |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        |        |        |        |        |        |                          | MWLeft | MWDown | MWUp   | MWRght |        |        |
     *'-----------------------------------+--------+--------+--------,        ,--------+--------+--------+-----------------------------------'
     *                                    |        |        |        |        | Enter  | Bspc   | Del    |
     *                                    '--------------------------'        '--------------------------'
     */
    [L_MOUSE] = LAYOUT_split_3x6_3(
        _______, TD_BOOT, _______, _______, _______, _______,                            C(KC_Y), C(KC_V), C(KC_C), C(KC_X), C(KC_Z), _______,
        _______, KC_LGUI, KC_LALT, KC_LSFT, KC_LCTL, _______,                            KC_MS_L, KC_MS_D, KC_MS_U, KC_MS_R, _______, _______,
        _______, _______, _______, _______, _______, _______,                            KC_WH_L, KC_WH_D, KC_WH_U, KC_WH_R, _______, _______,
                                            _______, _______, _______,          KC_BTN2, KC_BTN1, KC_BTN3
    ),

    /* Button
     *
     *.-----------------------------------------------------,                          ,-----------------------------------------------------.
     *|        | Undo   | Cut    | Copy   | Paste  | Redo   |                          | Redo   | Paste  | Copy   | Cut    | Undo   |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | GUI    | Alt    | Shift  | Ctrl   |        |                          |        | Ctrl   | Shift  | Alt    | GUI    |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | Undo   | Cut    | Copy   | Paste  | Redo   |                          | Redo   | Paste  | Copy   | Cut    | Undo   |        |
     *'-----------------------------------+--------+--------+--------,        ,--------+--------+--------+-----------------------------------'
     *                                    |        |        |        |        | Enter  | Bspc   | Del    |
     *                                    '--------------------------'        '--------------------------'
     */
    [L_BUTTON] = LAYOUT_split_3x6_3(
        _______, C(KC_Z), C(KC_X), C(KC_C), C(KC_V), C(KC_Y),                            C(KC_Y), C(KC_V), C(KC_C), C(KC_X), C(KC_Z), _______,
        _______, KC_LGUI, KC_LALT, KC_LSFT, KC_LCTL, _______,                            _______, KC_RCTL, KC_RSFT, KC_RALT, KC_RGUI, _______,
        _______, C(KC_Z), C(KC_X), C(KC_C), C(KC_V), C(KC_Y),                            C(KC_Y), C(KC_V), C(KC_C), C(KC_X), C(KC_Z), _______,
                                            KC_BTN3,  KC_BTN1, KC_BTN2,         KC_BTN2, KC_BTN1, KC_BTN3
    ),

    /* Media
     *
     *.-----------------------------------------------------,                          ,-----------------------------------------------------.
     *|        |        |        |        |        |        |                          |        |        |        |        |        |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | GUI    | Alt    | Shift  | Ctrl   |        |                          | MPrev  | VolD   | VolU   | MNext  |        |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        |        |        |        |        |        |                          |        |        |        |        |        |        |
     *'-----------------------------------+--------+--------+--------,        ,--------+--------+--------+-----------------------------------'
     *                                    |        |        |        |        | MStop  | MPlay  | Mute   |
     *                                    '--------------------------'        '--------------------------'
     */
    [L_MEDIA] = LAYOUT_split_3x6_3(
        _______, TD_BOOT, _______, _______, _______, _______,                            _______, _______, _______, _______, _______, _______,
        _______, KC_LGUI, KC_LALT, KC_LSFT, KC_LCTL, _______,                            KC_MPRV, KC_VOLD, KC_VOLU, KC_MNXT, _______, _______,
        _______, _______, _______, _______, _______, _______,                            _______, _______, _______, _______, _______, _______,
                                            _______, _______, _______,          KC_MSTP, KC_MPLY, KC_MUTE
    ),

    /* Num
     *
     *.-----------------------------------------------------,                          ,-----------------------------------------------------.
     *|        | [      | 7      | 8      | 9      | ]      |                          |        |        |        |        |        |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | ;      | 4      | 5      | 6      | =      |                          |        | Ctrl   | Shift  | Alt    | GUI    |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | `      | 1      | 2      | 3      | \      |                          |        |        |        |        |        |        |
     *'-----------------------------------+--------+--------+--------,        ,--------+--------+--------+-----------------------------------'
     *                                    | .      | 0      | -      |        |        |        |        |
     *                                    '--------------------------'        '--------------------------'
     */
    [L_NUM] = LAYOUT_split_3x6_3(
        _______, KC_LBRC, KC_7,    KC_8,    KC_9,    KC_RBRC,                            _______, _______, _______, _______, TD_BOOT, _______,
        _______, KC_SCLN, KC_4,    KC_5,    KC_6,    KC_EQL,                             _______, KC_RCTL, KC_RSFT, KC_RALT, KC_RGUI, _______,
        _______, KC_GRV,  KC_1,    KC_2,    KC_3,    KC_BSLS,                            _______, _______, _______, _______, _______, _______,
                                            KC_DOT,  KC_0,    KC_MINS,          _______, _______, _______
    ),

    /* Sym
     *
     *.-----------------------------------------------------,                          ,-----------------------------------------------------.
     *|        | {      | &      | *      | (      | }      |                          |        |        |        |        |        |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | :      | $      | %      | ^      | +      |                          |        | Ctrl   | Shift  | Alt    | GUI    |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | ~      | !      | @      | #      | |      |                          |        |        |        |        |        |        |
     *'-----------------------------------+--------+--------+--------,        ,--------+--------+--------+-----------------------------------'
     *                                    | (      | )      | _      |        |        |        |        |
     *                                    '--------------------------'        '--------------------------'
     */
    [L_SYM] = LAYOUT_split_3x6_3(
        _______, KC_LCBR, KC_AMPR, KC_ASTR, KC_LPRN, KC_RCBR,                            _______, _______, _______, _______, TD_BOOT, _______,
        _______, KC_COLN, KC_DLR,  KC_PERC, KC_CIRC, KC_PLUS,                            _______, KC_RCTL, KC_RSFT, KC_RALT, KC_RGUI, _______,
        _______, KC_TILD, KC_EXLM, KC_AT,   KC_HASH, KC_PIPE,                            _______, _______, _______, _______, _______, _______,
                                            KC_LPRN, KC_RPRN, KC_UNDS,          _______, _______, _______
    ),

    /* Fun
     *
     *.-----------------------------------------------------,                          ,-----------------------------------------------------.
     *|        | F12    | F7     | F8     | F9     | PrtScn |                          |        |        |        |        |        |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | F11    | F4     | F5     | F6     | ScrLck |                          |        | Ctrl   | Shift  | Alt    | GUI    |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *|        | F10    | F1     | F2     | F3     | Pause  |                          |        |        |        |        |        |        |
     *'-----------------------------------+--------+--------+--------,        ,--------+--------+--------+-----------------------------------'
     *                                    | App    | Space  | Tab    |        |        |        |        |
     *                                    '--------------------------'        '--------------------------'
     */
    [L_FUN] = LAYOUT_split_3x6_3(
        _______, KC_F12,  KC_F7,   KC_F8,   KC_F9,   KC_PSCR,                            _______, _______, _______, _______, TD_BOOT, _______,
        _______, KC_F11,  KC_F4,   KC_F5,   KC_F6,   KC_SCRL,                            _______, KC_RCTL, KC_RSFT, KC_RALT, KC_RGUI, _______,
        _______, KC_F10,  KC_F1,   KC_F2,   KC_F3,   KC_PAUS,                            _______, _______, _______, _______, _______, _______,
                                            KC_APP,  KC_SPC,  KC_TAB,           _______, _______, _______
    ),

    /* Game
     *
     *.-----------------------------------------------------,                          ,-----------------------------------------------------.
     *| Tab    | T      | Q      | W      | E      | R      |                          | Y      | F9     | F10    | F11    | F12    |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *| Escape | G      | A      | S      | D      | F      |                          | H      | F5     | F6     | F7     | F8     |        |
     *|--------+--------+--------+--------+--------+--------|                          |--------+--------+--------+--------+--------+--------|
     *| Ctrl   | Shift  | 1      | 2      | 3      | 4      |                          | N      | F1     | F2     | F3     | F4     |        |
     *'-----------------------------------+--------+--------+--------,        ,--------+--------+--------+-----------------------------------'
     *                                    | Alt    | C      | Space  |        | Enter  | L0     |        |
     *                                    '--------------------------'        '--------------------------'
     */
    [L_GAME] = LAYOUT_split_3x6_3(
        KC_TAB,  KC_T,    KC_Q,    KC_W,    KC_E,    KC_R,                               KC_Y,    KC_F9,   KC_F10,  KC_F11,  KC_F12,  _______,
        KC_ESC,  KC_G,    KC_A,    KC_S,    KC_D,    KC_F,                               KC_H,    KC_F6,   KC_F7,   KC_F8,   KC_F9,   _______,
        KC_LCTL, KC_LSFT, KC_1,    KC_2,    KC_3,    KC_4,                               KC_N,    KC_F1,   KC_F2,   KC_F3,   KC_F4,   _______,
                                            KC_LALT, KC_C,    KC_SPC,           KC_ENT,  L_GAME,  _______
    ),

};

void u_td_fn_boot(tap_dance_state_t *state, void *user_data) {
  if (state->count == 2) {
    reset_keyboard();
  }
}

tap_dance_action_t tap_dance_actions[] = {
	[U_TD_BOOT] = ACTION_TAP_DANCE_FN(u_td_fn_boot)
};
